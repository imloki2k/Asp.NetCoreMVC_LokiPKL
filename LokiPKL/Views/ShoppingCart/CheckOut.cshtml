
@{
    ViewData["Title"] = "CheckOut";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container">
      <div class="row ">
        <!-- =====  BANNER STRAT  ===== -->
        <div class="col-sm-12">
          <div class="breadcrumb ptb_20">
            <h1>Shopping Cart</h1>
            <ul>
              <li><a asp-controller="Home" asp-action="Index">Home</a></li>
              <li class="active">Shopping Cart</li>
            </ul>
          </div>
        </div>
        <!-- =====  BREADCRUMB END===== -->
        
        @await Html.PartialAsync("_CategoryLeftPartialView")

        <form asp-controller="ShoppingCart" asp-action="DoOrder">
        <div class="col-sm-8 col-lg-9 mtb_20">
          <div class="panel-group" id="accordion">
            <div class="panel panel-default ">
              <div class="panel-heading">
                <h4 class="panel-title"> <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">Step 1: Billing Details <i class="fa fa-caret-down"></i></a> </h4>
              </div>
              <div id="collapseTwo" class="panel-collapse collapse">
                <div class="panel-body">
                    <div id="payment-new">
                      <div class="form-group required">
                        <label for="input-payment-firstname" class="col-sm-2 control-label">Full Name</label>
                        <div class="col-sm-10">
                          <input type="text" class="form-control" id="input-payment-firstname" placeholder="Full Name" value="" name="name">
                        </div>
                      </div>
                      <div class="form-group required">
                        <label for="input-payment-address-1" class="col-sm-2 control-label">Address</label>
                        <div class="col-sm-10">
                          <input type="text" class="form-control" id="input-payment-address-1" placeholder="Address" value="" name="address">
                        </div>
                      </div>
                      <div class="form-group">
                        <label for="input-payment-postcode" class="col-sm-2 control-label">Phone Number</label>
                        <div class="col-sm-10">
                          <input type="text" class="form-control" id="input-payment-postcode" placeholder="Phone Number" value="" name="phoneNumber">
                        </div>
                      </div>
                      <div class="form-group required">
                        <label for="input-payment-country" class="col-sm-2 control-label">Email</label>
                        <div class="col-sm-10">
                          <input type="text" class="form-control" id="input-payment-postcode" placeholder="Email" value="" name="email">
                        </div>
                      </div>
                    </div>
                    <div class="buttons clearfix">
                      <div class="pull-right">
                      </div>
                    </div>
                </div>
              </div>
            </div>
            <div class="panel panel-default ">
              <div class="panel-heading">
                <h4 class="panel-title"> <a data-toggle="collapse" data-parent="#accordion" href="#collapsefive">Step 2: Payment Method <i class="fa fa-caret-down"></i></a> </h4>
              </div>
              <div id="collapsefive" class="panel-collapse collapse">
                <div class="panel-body">
                  <p>Please select the preferred payment method to use on this order.</p>
                  <div class="radio">
                    <label>
                      <input type="radio" checked="checked" value="cod" name="payment_method"> Cash On Delivery </label>
                  </div>
                  <p><strong>Add Note About Your Order</strong></p>
                  <p>
                    <textarea class="form-control" rows="8" name="note"></textarea>
                  </p>
                  <div class="buttons">
                  </div>
                </div>
              </div>
            </div>
            <div class="panel panel-default ">
              <div class="panel-heading">
                <h4 class="panel-title"> <a data-toggle="collapse" data-parent="#accordion" href="#collapsesix">Step 3: Confirm Order <i class="fa fa-caret-down"></i></a> </h4>
              </div>
              <div id="collapsesix" class="panel-collapse collapse">
                <div class="panel-body">
                  <div class="table-responsive">
                    <table class="table table-bordered table-hover">
                      <thead>
                        <tr>
                          <td class="text-left">Product Name</td>
                          <td class="text-right">Quantity</td>
                          <td class="text-right">Unit Price</td>
                          <td class="text-right">Total</td>
                        </tr>
                      </thead>
                      <tbody>
                        @foreach (var item in ViewBag.IsGioHang)
                       {
                         <tr>
                          <td class="text-left">@item.product.ProductName</td>
                          <td class="text-right">@item.amount</td>
                          <td class="text-right">@item.product.FormatPrice</td>
                          <td class="text-right">@item.FormatTotalPrice</td>
                        </tr>  
                       }

                      </tbody>
                      <tfoot>
                        <tr>
                          <td class="text-right" colspan="4"><strong>Total: @ViewBag.SumTotal.ToString("#,## VNĐ")</strong></td>
                        </tr>
                      </tfoot>
                    </table>
                  </div>
                  <div class="buttons">
                    <div class="pull-right">
                      <input type="submit" data-loading-text="Loading..." class="btn" id="button-confirm" value="Confirm Order">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        </form>
      </div>
    </div>
